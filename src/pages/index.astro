---
import { getCollection } from 'astro:content'

import Layout from '@layouts/Layout.astro'
import Section from '@components/Section.astro'
import Button from '@components/ui/Button.astro'
import Link from '@components/ui/Link.astro'

import ButtonLine from '@components/ui/ButtonLine.astro'
import WorkCard from '@components/ui/WorkCard.astro'
import CtaHorizontalScroll from '@components/cta-horizontal/CtaHorizontalScroll.astro'
import Services from '@components/Services/Services.astro'

const allWorks = await getCollection('works')
---

<Layout
    title="Carlos Mancilla | UI & UX Designer | Web Developer"
    description="Learn how to build web apps with Astro."
>
    <main>
        <Section>
            <div class="mb-4 font-regular flex items-center gap-4">
                <span class="text-2xl">Hello! I'm Carlos.</span>
                <a
                    href="/contact"
                    class="group border rounded-lg py-0.5 px-3 text-[18px] bg-slate-400 dark:bg-slate-100 dark:bg-opacity-10 bg-opacity-10 border-opacity-10 border-slate-400 hover:scale-105 transition hover:bg-opacity-20"
                >
                    <div class="flex items-center gap-2 relative">
                        <span class="relative flex h-3 w-3">
                            <span
                                class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"
                            ></span>
                            <span
                                class="relative inline-flex rounded-full h-3 w-3 bg-green-500"
                            ></span>
                        </span>

                        <div class="flex flex-col overflow-hidden h-7">
                            <span
                                class="group-hover:-translate-y-7 transition-all"
                                >Available to work</span
                            >
                            <span
                                class="group-hover:-translate-y-7 transition-all"
                                >Let's Talk</span
                            >
                        </div>
                    </div>
                </a>
            </div>
            <h1 class="relative">
                Designing digital product with emphasis on <span
                    class="text-primary">visual design</span
                >
            </h1>

            <div class="flex items-center justify-between mt-16">
                <Button href="/contact">Let's Talk</Button>
                <p class="text-2xl max-w-xl">
                    A multidisciplinary designer harnessing the power of design
                    to achieve online goals.
                </p>
            </div>
        </Section>
        <Section>
            <div class="flex gap-10">
                <div
                    class="w-1/3 overflow-hidden dark:bg-slate-900 bg-slate-200 rounded-2xl"
                >
                </div>
                <div class="w-2/3 flex flex-col gap-9 items-start py-7">
                    <div class="flex flex-col gap-4">
                        <h2>
                            Design that sparks engagement and inspires action
                        </h2>
                        <p class="mt-5">
                            Concentrate on your primary objective which is
                            expanding your business, and leave it to me to
                            ensure that your business is efficiently portrayed
                            in the digital realm and distinguishes itself from
                            the rivals.
                        </p>
                    </div>
                    <Link href="/about">About me</Link>
                </div>
            </div>
        </Section>
        <Section
            class="bg-[radial-gradient(ellipse_80%_80%_at_50%_-20%,rgba(217,216,255,0.2),rgba(255,255,255,0.9))] dark:bg-[radial-gradient(ellipse_80%_80%_at_50%_-20%,rgba(120,119,198,0.1),rgba(255,255,255,0))] border-t border-slate-200 dark:border-slate-900"
        >
            <div class="text-center max-w-screen-md m-auto">
                <h2>Services to help your business grow</h2>
            </div>
            <Services />
        </Section>

        <Section>
            <h2>Discover my latest works</h2>

            <div class="grid grid-cols-2 gap-10 mt-10">
                {
                    allWorks
                        .filter((_, i) => i < 4)
                        .map((work) => {
                            return (
                                <WorkCard
                                    title={work.data.title}
                                    url={`works/${work.slug}`}
                                    image={work.data.image}
                                    category={work.data.category}
                                />
                            )
                        })
                }
            </div>
            <div
                class="text-center flex items-center w-full mx-auto justify-center mt-16"
            >
                <Link href="/works">View All Works</Link>
            </div>
        </Section>
        <CtaHorizontalScroll />
        <Section>
            <div class="flex justify-between items-end">
                <h2 class="md:max-w-screen-md">
                    Sometimes, I also write and share some insights
                </h2>
                <ButtonLine href="/blog">View All Insights</ButtonLine>
            </div>
        </Section>
    </main>
</Layout>
